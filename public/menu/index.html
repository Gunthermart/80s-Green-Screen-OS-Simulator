<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index des Répertoires</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Effet de verre pour un look moderne */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen font-sans">

    <div class="container mx-auto px-4 py-12 max-w-6xl">
        
        <!-- En-tête -->
        <div class="mb-10 text-center">
            <h1 class="text-3xl font-bold tracking-tight mb-2 text-blue-400">Navigation Système</h1>
            <p class="text-gray-400 text-sm">Accès direct aux sous-systèmes</p>
        </div>

        <!-- Barre de recherche -->
        <div class="mb-8 max-w-md mx-auto">
            <input type="text" id="searchInput" placeholder="Filtrer les répertoires..." 
                class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-white placeholder-gray-500">
        </div>

        <!-- Grille des liens -->
        <div id="gridContainer" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
            <!-- Les éléments seront injectés ici par JS -->
        </div>

        <!-- Pied de page technique -->
        <div class="mt-12 text-center text-xs text-gray-600 border-t border-gray-800 pt-4">
            Structure statique générée. Total: <span id="count">0</span> entrées.
        </div>
    </div>

    <script>
        // Liste brute extraite de votre demande + ajout de PDF
        const directories = [
            "DRONE2", "Excellant", "KLondike", "PERF", "Pacman", "SEA", "TWIX", 
            "Tamagotchi", "aquarium", "art", 
            "calc", "calc2", "candy", "cctv", "city", "codepad", "drone", 
            "fi", "geo", "geo2", "graph", "mapmind", "minesweeper", "minuteur", 
            "news", "nucleus", "planetarium", "pppd", "public", 
            "sudoku", "pdf"
        ];

        // Tri alphabétique insensible à la casse pour l'ordre visuel
        directories.sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase()));

        const gridContainer = document.getElementById('gridContainer');
        const searchInput = document.getElementById('searchInput');
        const countSpan = document.getElementById('count');

        // Fonction de génération des cartes
        function renderGrid(filterText = '') {
            gridContainer.innerHTML = '';
            let count = 0;

            directories.forEach(dir => {
                if (dir.toLowerCase().includes(filterText.toLowerCase())) {
                    count++;
                    const card = document.createElement('a');
                    
                    // Construction du lien : Ajustement pour structure /public/liste
                    // On remonte d'un niveau (../) pour sortir de 'liste' et atteindre les dossiers frères
                    const href = `../${encodeURIComponent(dir)}/index.html`;
                    
                    card.href = href;
                    card.className = 'glass block p-6 rounded-xl hover:bg-blue-900/20 hover:border-blue-500/50 transition-all duration-300 group';
                    
                    // Icône générique basée sur la première lettre
                    const initial = dir.charAt(0).toUpperCase();
                    
                    card.innerHTML = `
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center text-blue-400 font-bold text-lg group-hover:bg-blue-500 group-hover:text-white transition-colors">
                                ${initial}
                            </div>
                            <div class="overflow-hidden">
                                <h3 class="font-medium text-gray-200 group-hover:text-white truncate">${dir}</h3>
                                <p class="text-xs text-gray-500 truncate font-mono">../${dir}/index</p>
                            </div>
                        </div>
                    `;
                    
                    gridContainer.appendChild(card);
                }
            });
            countSpan.textContent = count;
        }

        // Initialisation
        renderGrid();

        // Écouteur pour la recherche
        searchInput.addEventListener('input', (e) => {
            renderGrid(e.target.value);
        });

    </script>
</body>
</html>
